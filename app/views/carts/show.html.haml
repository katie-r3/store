#mycart.small-10.small-centered.medium-8.large-8.column
  .p1.glassy-bg.mb1.text-center.radius-l1.radius-r1
    %h4 My Cart
    %p.mb0
      You've selected
      = pluralize(current_user.cart_count, 'item')

  - @cart_items.each do |item|
    .cart-item.large-12.column.mb1{"data-equalizer" => ""}
      .column.large-2.text-center.p0{"data-equalizer-watch" => ""}
        = link_to item do
          = item.name
          = image_tag item.avatar(:medium)
          - 2.times do
            %br
        quantity:
        = current_user.get_quantity(item)

        = link_to "" , id: "remove-button" , class: "remove", data: {targetUrl: remove_from_cart_path(item)} do
          Remove
      .column.large-3.primary-bg.text-center.radius-r1{"data-equalizer-watch" => ""}
        %h4.scale
          $ #{sprintf "%.2f", item.price}
          %br
          %br




#totals.column.large-3.primary-bg.text-center.radius-r1{"data-equalizer-watch" => ""}

  - unless current_user.cart_count.zero?
    = form_tag charges_path do
      %article
        - if flash[:error].present?
          #error_explanation
            %p= flash[:error]
        %label.amount
          %span Amount Due: $
          = current_user.cart_total_price
      %script.stripe-button{"data-amount" => "{ @amount }", "data-description" => "Please complete your purchase", "data-key" => "#{Rails.configuration.stripe[:publishable_key]}", "data-email" => "#{current_user.email}", "data-locale" => "auto", :src => "https://checkout.stripe.com/checkout.js"}
